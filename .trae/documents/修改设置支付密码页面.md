# 修改设置支付密码页面

## 目标

修改 `src\app\publisher\profile\paymentsettings\setpaymentpwd\page.tsx` 页面，按照要求更新API调用和表单结构。

## 修改内容

### 1. 导入和类型定义

* 删除现有的本地类型定义

* 导入 `SetWalletPwdRequest` 类型

### 2. 表单结构修改

* 删除"确认密码"输入框

* 保留"支付密码"输入框

### 3. 状态管理修改

* 删除 `confirmPassword` 和相关状态

*  `securityPassword`字段名要修改成

  ```json
  password
  ```

  和后端的请求字段名一致。

### 4. 表单验证修改

* 删除确认密码的验证逻辑

* 只验证支付密码的长度和格式，密码格式为6位的数字，

### 5. API调用修改

* 删除现有的API调用逻辑

* 使用新的API端点 `/api/paymentWallet/setPaymentPwd`

* 使用 `SetWalletPwdRequest` 数据结构

### 6. 结果处理

* 使用提示框展示API调用结果

## 具体修改步骤

1. **修改导入语句**

   * 删除不必要的导入

   * 导入 `SetWalletPwdRequest` 类型

2. **修改状态定义**

   * 删除 `confirmPassword` 状态

   * 删除相关的错误状态

3. **修改表单UI**

   * 删除确认密码输入框

   * 保留安全密码输入框

4. **修改表单验证**

   * 更新 `validateForm` 函数，只验证安全密码

5. **修改提交处理**

   * 更新 `handleSubmit` 函数，调用新的API

   * 使用正确的数据结构

   * 显示结果提示

## 预期结果

* 表单只包含一个支付密码输入框

* 提交表单时调用新的API

* 结果通过提示框展示给用户

* 保持原有的UI布局不变

