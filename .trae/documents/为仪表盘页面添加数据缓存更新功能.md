# 为仪表盘页面添加数据缓存更新功能

## 目标
为以下三个页面文件添加数据缓存更新功能：
1. `src\app\publisher\dashboard\InProgress\page.tsx`
2. `src\app\publisher\dashboard\Completed\page.tsx`
3. `src\app\publisher\dashboard\AwaitingReview\page.tsx`

## 功能要求
1. **主动更新**：页面刷新或重新加载时，调用API请求数据，与缓存对比，有新数据则更新（无感刷新）
2. **被动更新**：每10分钟定时轮询API，与缓存对比，有新数据则更新（无感刷新）

## 实现方案

### 1. 修改 InProgress\page.tsx
- 保持现有组件结构不变
- 添加状态管理：缓存数据、加载状态
- 实现API调用函数获取进行中任务列表
- 添加数据对比函数，检查数据是否有变化
- 实现主动更新：页面可见性变化时刷新数据
- 实现被动更新：10分钟定时轮询
- 保持现有UI和交互逻辑

### 2. 修改 Completed\page.tsx
- 保持现有组件结构不变
- 添加状态管理：缓存数据、加载状态
- 实现API调用函数获取已完成任务列表
- 添加数据对比函数，检查数据是否有变化
- 实现主动更新：页面可见性变化时刷新数据
- 实现被动更新：10分钟定时轮询
- 保持现有UI和交互逻辑

### 3. 修改 AwaitingReview\page.tsx
- 检查现有实现，确保功能完整
- 优化数据对比逻辑
- 确保主动和被动更新功能正常工作
- 保持现有UI和交互逻辑

## 技术要点
- 使用 `useState` 管理状态
- 使用 `useEffect` 设置定时器和清理函数
- 使用 `useRef` 存储定时器ID
- 实现数据对比函数，基于任务ID检查数据变化
- 使用 `document.visibilityState` 实现页面可见性检测
- 保持现有UI和交互逻辑不变
- 确保类型安全，使用正确的TypeScript类型

## 预期效果
- 页面加载时自动获取最新数据
- 页面重新可见时自动刷新数据（如有变化）
- 每10分钟自动轮询更新数据（如有变化）
- 数据更新时用户无感知，保持良好的用户体验
- 保持现有功能和UI不变