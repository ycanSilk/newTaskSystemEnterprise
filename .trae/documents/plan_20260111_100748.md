## 1. 检查和创建目录结构

**检查并创建以下目录（如果不存在）：**

- `src/api/types/paymentWallet`
- `src/app/types/paymentWallet`
- `src/api/handlers/paymentWallet`
- `src/app/api/paymentWallet`

## 2. 定义API类型文件

**文件：** `src/api/types/paymentWallet/checkWalletPwd.ts`

**实现内容：**

- 定义检查支付密码请求类型 `CheckWalletPwdRequest`
- 定义检查支付密码响应类型 `CheckWalletPwdResponse`
- 确保类型定义与后端API响应格式匹配

## 3. 定义前端页面类型文件

**文件：** `src/app/types/paymentWallet/checkWalletPwd.ts`

**实现内容：**

- 定义前端检查支付密码API响应类型 `CheckWalletPwdApiResponse`
- 确保类型定义包含 `has_password` 字段

## 4. 实现API处理函数

**文件：** `src/api/handlers/paymentWallet/checkWalletPwdHandler.ts`

**实现内容：**

- 导入必要的类型和依赖
- 实现 `handleCheckWalletPwd` 函数，调用后端API
- 确保使用正确的请求方法和headers
- 处理API响应，格式化返回结果
- 实现错误处理

## 5. 创建API路由

**文件：** `src/app/api/paymentWallet/route.ts`

**实现内容：**

- 导入 `handleCheckWalletPwd` 函数
- 实现GET方法，调用 `handleCheckWalletPwd` 函数
- 确保遵循Next.js App Router API路由规范

## 6. 更新前端页面

**文件：** `src/app/publisher/dashboard/OverView/page.tsx`

**实现内容：**

- 导入必要的类型和依赖
- 在页面加载时调用 `/api/paymentWallet` API
- 根据API响应，如果 `has_password` 为 `false`，弹出提示并跳转到支付密码设置页面
- 实现错误处理

## 7. 验证和测试

**验证内容：**

- 运行诊断工具检查类型错误
- 运行构建命令确保项目能正常构建
- 测试API功能，确保能正确调用后端API
- 测试前端页面，确保能正确处理API响应并跳转页面

通过这个计划，我们将实现完整的校验用户是否设置了支付密码的功能，从类型定义到API实现，再到前端页面调用，确保整个流程完整、规范、安全。